{
  "dashboards": [
    {
      "title": "Auth-Spine Application Metrics",
      "uid": "auth-spine-app",
      "panels": [
        {
          "title": "Request Rate",
          "targets": [
            {
              "expr": "rate(http_request_duration_seconds_count[5m])"
            }
          ]
        },
        {
          "title": "Error Rate",
          "targets": [
            {
              "expr": "rate(http_request_duration_seconds_count{status_code=~\"5..\"}[5m])"
            }
          ]
        },
        {
          "title": "Response Time (p95)",
          "targets": [
            {
              "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))"
            }
          ]
        },
        {
          "title": "Database Query Duration",
          "targets": [
            {
              "expr": "rate(db_query_duration_seconds_sum[5m]) / rate(db_query_duration_seconds_count[5m])"
            }
          ]
        },
        {
          "title": "Cache Hit Rate",
          "targets": [
            {
              "expr": "rate(cache_hits_total[5m]) / (rate(cache_hits_total[5m]) + rate(cache_misses_total[5m]))"
            }
          ]
        },
        {
          "title": "Active Sessions",
          "targets": [
            {
              "expr": "active_sessions"
            }
          ]
        }
      ]
    },
    {
      "title": "Auth-Spine Infrastructure",
      "uid": "auth-spine-infra",
      "panels": [
        {
          "title": "CPU Usage",
          "targets": [
            {
              "expr": "rate(process_cpu_seconds_total[5m]) * 100"
            }
          ]
        },
        {
          "title": "Memory Usage",
          "targets": [
            {
              "expr": "process_resident_memory_bytes / 1024 / 1024"
            }
          ]
        },
        {
          "title": "Redis Connection Pool",
          "targets": [
            {
              "expr": "redis_connected_clients"
            }
          ]
        },
        {
          "title": "Database Connections",
          "targets": [
            {
              "expr": "db_connections_active"
            }
          ]
        }
      ]
    }
  ]
}

